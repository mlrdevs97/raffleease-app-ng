<div class="flex flex-col">
    @if (errorMessage()) {
    <div class="mb-4 w-full rounded-md bg-red-50 p-3">
        <p class="text-red-700 text-sm">{{ errorMessage() }}</p>
    </div>
    }

    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-0">
        <div class="flex flex-col sm:flex-row gap-4 sm:gap-6 w-full">
            <!-- Profile Image Placeholder -->
            <div class="w-full sm:w-32 shrink-0">
                <div class="aspect-3/2 rounded-lg shadow-sm bg-gray-100 flex items-center justify-center w-full h-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                </div>
            </div>

            <!-- User Information -->
            <div class="px-2 space-y-2 flex-1">
                <!-- Full Name (Heading) -->
                <div class="text-base font-semibold leading-6 text-zinc-950">
                    {{ getFullName() }}
                </div>

                <!-- Username -->
                <div class="flex items-center gap-2 text-xs/6 text-zinc-500">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                        class="h-4 w-4 text-zinc-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    {{ user.userName }}
                </div>

                <!-- Email -->
                <div class="flex items-center gap-2 text-xs/6 text-zinc-500">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                        class="h-4 w-4 text-zinc-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    {{ user.email }}
                </div>

                <!-- Phone Number -->
                <div class="flex items-center gap-2 text-xs/6 text-zinc-500">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                        class="h-4 w-4 text-zinc-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                    </svg>
                    {{ getPhoneNumber() }}
                </div>

                <!-- Role -->
                <div class="flex items-center gap-2 text-xs/6">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                        class="h-4 w-4 text-zinc-500">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                    </svg>
                    <span
                        class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset ring-gray-500/10"
                        [class]="getRoleClass(user.role)">
                        {{ getRoleLabel(user.role) }}
                    </span>
                </div>
            </div>
        </div>

        <!-- Right: Status + Action Button -->
        <div class="flex items-center justify-between sm:justify-end gap-4">
            <!-- Account Status -->
            <div>
                @if (user.isEnabled) {
                <span
                    class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium bg-green-100 text-green-800 ring-1 ring-inset ring-green-600/20">
                    Active
                </span>
                } @else {
                <span
                    class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium bg-red-100 text-red-800 ring-1 ring-inset ring-red-600/20">
                    Disabled
                </span>
                }
            </div>

            <!-- Enable/Disable Button -->
            <div class="flex-shrink-0">
                <app-button [variant]="getStatusButtonVariant()" [loading]="isUpdatingStatus()"
                    [loadingText]="getStatusButtonText()" [disabled]="isUpdatingStatus()" size="sm"
                    (clicked)="toggleUserStatus()">
                    {{ getStatusButtonText() }}
                </app-button>
            </div>
        </div>
    </div>
</div>